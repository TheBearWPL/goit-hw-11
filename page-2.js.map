{"version":3,"file":"page-2.js","sources":["../src/js/01-searchapp.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\nconst API_KEY = '45947467-1fb23e21d26a094164d331d1f'; // Wklej swÃ³j klucz API\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const query = document.getElementById('query').value.trim();\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n  clearGallery();\n  showLoader();\n  try {\n    const response = await axios.get(\n      `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n        query\n      )}&image_type=photo&orientation=horizontal&safesearch=true`\n    );\n    const images = response.data.hits;\n    hideLoader();\n    if (images.length === 0) {\n      iziToast.info({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      gallery.innerHTML = '';\n      return;\n    }\n    displayImages(images);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n    });\n    hideLoader();\n  }\n});\nfunction displayImages(images) {\n  gallery.innerHTML = images\n    .map(\n      img => `\n      <a href=\"${img.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n        <div class=\"info\">\n          <p>Likes: ${img.likes}</p>\n          <p>Views: ${img.views}</p>\n          <p>Comments: ${img.comments}</p>\n          <p>Downloads: ${img.downloads}</p>\n        </div>\n      </a>`\n    )\n    .join('');\n\n  refreshLightbox();\n}\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\nfunction refreshLightbox() {\n  const lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n"],"names":["form","gallery","loader","API_KEY","e","query","iziToast","clearGallery","showLoader","images","axios","hideLoader","displayImages","img","refreshLightbox","SimpleLightbox"],"mappings":"sJAKA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,qCAChBH,EAAK,iBAAiB,SAAU,MAAMI,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAQ,SAAS,eAAe,OAAO,EAAE,MAAM,OACrD,GAAI,CAACA,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CACDC,IACAC,IACA,GAAI,CAMF,MAAMC,GALW,MAAMC,EAAM,IAC3B,gCAAgCP,CAAO,MAAM,mBAC3CE,CACD,CAAA,0DACP,GAC4B,KAAK,KAE7B,GADAM,IACIF,EAAO,SAAW,EAAG,CACvBH,EAAS,KAAK,CACZ,QACE,0EACV,CAAO,EACDL,EAAQ,UAAY,GACpB,MACD,CACDW,EAAcH,CAAM,CACrB,MAAe,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,EACDK,GACD,CACH,CAAC,EACD,SAASC,EAAcH,EAAQ,CAC7BR,EAAQ,UAAYQ,EACjB,IACCI,GAAO;AAAA,iBACIA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,sBAEhCA,EAAI,KAAK;AAAA,sBACTA,EAAI,KAAK;AAAA,yBACNA,EAAI,QAAQ;AAAA,0BACXA,EAAI,SAAS;AAAA;AAAA,WAGlC,EACA,KAAK,EAAE,EAEVC,GACF,CACA,SAASP,GAAe,CACtBN,EAAQ,UAAY,EACtB,CACA,SAASO,GAAa,CACpBN,EAAO,UAAU,OAAO,QAAQ,CAClC,CACA,SAASS,GAAa,CACpBT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CACA,SAASY,GAAkB,CACR,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB"}