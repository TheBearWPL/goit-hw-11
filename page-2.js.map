{"version":3,"file":"page-2.js","sources":["../src/js/01-searchapp.js"],"sourcesContent":["\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Elementy DOM\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\n// Klucz API Pixabay\nconst API_KEY = '45947467-1fb23e21d26a094164d331d1f'; // Wklej swój klucz API\n\n// Obsługa formularza\nform.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const query = document.getElementById('query').value.trim();\n\n  // Walidacja pustego zapytania\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const response = await axios.get(\n      `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`\n    );\n    const images = response.data.hits;\n\n    hideLoader();\n\n    // Brak wyników\n    if (images.length === 0) {\n      iziToast.info({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      gallery.innerHTML = '';\n      return;\n    }\n\n    displayImages(images);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n    });\n    hideLoader();\n  }\n});\n\n// Wyświetlanie obrazów\nfunction displayImages(images) {\n  gallery.innerHTML = images\n    .map(\n      (img) => `\n      <a href=\"${img.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n        <div class=\"info\">\n          <p>Likes: ${img.likes}</p>\n          <p>Views: ${img.views}</p>\n          <p>Comments: ${img.comments}</p>\n          <p>Downloads: ${img.downloads}</p>\n        </div>\n      </a>`\n    )\n    .join('');\n\n  refreshLightbox(); // Odświeżenie galerii SimpleLightbox\n}\n\n// Wyczyść galerię\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\n// Pokaż loader\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\n// Ukryj loader\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\n// Odświeżanie SimpleLightbox\nfunction refreshLightbox() {\n  const lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\n\n// Użycie Axios - Axios obsługuje żądania do API Pixabay, aby pobrać obrazy na podstawie wyszukiwania.\n  \n// iziToast - Obsługuje powiadomienia dla błędów i informuje, gdy zapytanie nie zwraca wyników.\n  \n//  SimpleLightbox - Odpowiada za wyświetlanie powiększonych obrazów w modalu. \n//                   Każde dodanie nowych elementów do galerii wymaga odświeżenia galerii za pomocą lightbox.refresh().\n// Loader - Pojawia się podczas wysyłania zapytania i znika po zakończeniu pobierania danych.\n\n// Jak to działa:\n\n// 1.Użytkownik wprowadza zapytanie do formularza wyszukiwania.\n\n// 2.Aplikacja wyświetla wskaźnik ładowania i wysyła zapytanie do API Pixabay.\n\n// 3.Jeśli są wyniki, obrazy są wyświetlane w galerii.Każdy obraz jest owinięty w link, który otwiera się w SimpleLightbox po kliknięciu.\n\n// 4.Jeśli nie ma wyników, wyświetlany jest komunikat o błędzie.\n\n// 5.Po zakończeniu pobierania wskaźnik ładowania znika.\n\n// Wymagania:\n\n// Wklej swój klucz API w miejsce YOUR_PIXABAY_API_KEY.\n\n// Upewnij się, że masz zainstalowane odpowiednie biblioteki (axios, izitoast, simplelightbox) w swoim projekcie."],"names":["form","gallery","loader","API_KEY","e","query","iziToast","clearGallery","showLoader","images","axios","hideLoader","displayImages","img","refreshLightbox","SimpleLightbox"],"mappings":"sJAQA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAGzCC,EAAU,qCAGhBH,EAAK,iBAAiB,SAAU,MAAOI,GAAM,CAC3CA,EAAE,eAAc,EAChB,MAAMC,EAAQ,SAAS,eAAe,OAAO,EAAE,MAAM,OAGrD,GAAI,CAACA,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDC,IACAC,IAEA,GAAI,CAIF,MAAMC,GAHW,MAAMC,EAAM,IAC3B,gCAAgCP,CAAO,MAAM,mBAAmBE,CAAK,CAAC,0DAC5E,GAC4B,KAAK,KAK7B,GAHAM,IAGIF,EAAO,SAAW,EAAG,CACvBH,EAAS,KAAK,CACZ,QAAS,0EACjB,CAAO,EACDL,EAAQ,UAAY,GACpB,MACD,CAEDW,EAAcH,CAAM,CACrB,MAAe,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,EACDK,GACD,CACH,CAAC,EAGD,SAASC,EAAcH,EAAQ,CAC7BR,EAAQ,UAAYQ,EACjB,IACEI,GAAQ;AAAA,iBACEA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,sBAEhCA,EAAI,KAAK;AAAA,sBACTA,EAAI,KAAK;AAAA,yBACNA,EAAI,QAAQ;AAAA,0BACXA,EAAI,SAAS;AAAA;AAAA,WAGlC,EACA,KAAK,EAAE,EAEVC,GACF,CAGA,SAASP,GAAe,CACtBN,EAAQ,UAAY,EACtB,CAGA,SAASO,GAAa,CACpBN,EAAO,UAAU,OAAO,QAAQ,CAClC,CAGA,SAASS,GAAa,CACpBT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAGA,SAASY,GAAkB,CACR,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB"}